# Storing Behaviors

Behaviors typically edited and generated by the FlexBE UI.  
These generated files are stored in the root workspace `install` folder.
Presuming a `WORKSPACE_ROOT` environment variable exists, we provide a simple 
[`copy_behavior`](caro_skills_flexbe_behaviors/bin/copy_behavior) script to copy a saved behavior 
&mdash; both the Python implementation and manifest `.xml` file &mdash; 
to the project source folder for long term storage.
Use `ros2 run caro_skills_flexbe_behavior copy_behavior` to see the usage guide. 
The script should be run from this repository's base folder.

# Start WebUI:

```ros2 launch flexbe_webui flexbe_ocs.launch.py headless:=True```

```ros2 run flexbe_webui webui_client```

```ros2 launch flexbe_onboard behavior_onboard.launch.py```

# Start behavior without WebUI:

requires flexbe_behavior_engine to be on carologistic's fork on branch [mtschesche/action_server_jazzy](https://github.com/carologistics/flexbe_behavior_engine/tree/mtschesche/action_server_jazzy)

```ros2 launch flexbe_onboard behavior_onboard.launch.py```

```ros2 run flexbe_widget be_action_server```

## Examples for starting behaviors via action server:

MoveTo:
```
ros2 action send_goal /flexbe/execute_behavior flexbe_msgs/action/BehaviorExecution "{behavior_name: 'MoveTo', input_keys: ['frame_id','target_x','target_y','target_yaw'], input_values: ['map','3.0','4.5','1.0']}"
```
MotorMove:
```
ros2 action send_goal /flexbe/execute_behavior flexbe_msgs/action/BehaviorExecution "{behavior_name: 'MotorMove', input_keys: ['frame_id','target_x','target_y','target_yaw'], input_values: ['robotinobase1/base_link','0.0','-10.0','0.0']}"
```
